<!doctype html><html lang=en dir=auto data-theme=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>College Hotspots Dashboard | Shubham Apat</title>
<meta name=keywords content="Data Visualization,Dash,Plotly,Data Processing,Flask"><meta name=description content="How I built an interactive dashboard for student businesses and achieved 90x performance improvement"><meta name=author content><link rel=canonical href=https://shubhamapat.github.io/projects/college-hotspots-dashboard/><link crossorigin=anonymous href=/assets/css/stylesheet.5e650fcd2a1a270f991667f42593d548f47b391d604c83a6bdf0570f9f968095.css integrity="sha256-XmUPzSoaJw+ZFmf0JZPVSPR7OR1gTIOmvfBXD5+WgJU=" rel="preload stylesheet" as=style><link rel=icon href=https://shubhamapat.github.io/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://shubhamapat.github.io/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://shubhamapat.github.io/favicon-32x32.png><link rel=apple-touch-icon href=https://shubhamapat.github.io/apple-touch-icon.png><link rel=mask-icon href=https://shubhamapat.github.io/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate hreflang=en href=https://shubhamapat.github.io/projects/college-hotspots-dashboard/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--code-block-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51);color-scheme:dark}.list{background:var(--theme)}.toc{background:var(--entry)}}@media(prefers-color-scheme:light){.list::-webkit-scrollbar-thumb{border-color:var(--code-bg)}}</style></noscript><script>localStorage.getItem("pref-theme")==="dark"?document.querySelector("html").dataset.theme="dark":localStorage.getItem("pref-theme")==="light"?document.querySelector("html").dataset.theme="light":window.matchMedia("(prefers-color-scheme: dark)").matches?document.querySelector("html").dataset.theme="dark":document.querySelector("html").dataset.theme="light"</script><meta property="og:url" content="https://shubhamapat.github.io/projects/college-hotspots-dashboard/"><meta property="og:site_name" content="Shubham Apat"><meta property="og:title" content="College Hotspots Dashboard"><meta property="og:description" content="How I built an interactive dashboard for student businesses and achieved 90x performance improvement"><meta property="og:locale" content="en-us"><meta property="og:type" content="article"><meta property="article:section" content="projects"><meta property="article:published_time" content="2024-05-01T00:00:00+00:00"><meta property="article:modified_time" content="2024-05-01T00:00:00+00:00"><meta property="article:tag" content="Data Visualization"><meta property="article:tag" content="Dash"><meta property="article:tag" content="Plotly"><meta property="article:tag" content="Data Processing"><meta property="article:tag" content="Flask"><meta property="og:image" content="https://shubhamapat.github.io/images/dashboard.png"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://shubhamapat.github.io/images/dashboard.png"><meta name=twitter:title content="College Hotspots Dashboard"><meta name=twitter:description content="How I built an interactive dashboard for student businesses and achieved 90x performance improvement"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Projects","item":"https://shubhamapat.github.io/projects/"},{"@type":"ListItem","position":2,"name":"College Hotspots Dashboard","item":"https://shubhamapat.github.io/projects/college-hotspots-dashboard/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"College Hotspots Dashboard","name":"College Hotspots Dashboard","description":"How I built an interactive dashboard for student businesses and achieved 90x performance improvement","keywords":["Data Visualization","Dash","Plotly","Data Processing","Flask"],"articleBody":"Students need to find, PGs and hostels, Restaurants and cafes, Study spaces, competitive exam classes and other student services near colleges\nI scraped Google Maps and collected 3GB of business data around colleges in 8 major Indian cities. It contained business of more than 100 categories, around all the colleges in the city. I used dash by Plotly to start building the dashboard. To build an interactive dashboard we need to first decide what can we showcase from this data. In my dataset I had details that google maps show of any business like name, address, pincode, city, reviews, phone no., etc.\nAlso whatever you conclude to showcase on your dashboard should be informative and visually consistent. I decided to go with a scattermap for my first graph which shows pincodes of one selected city as interactive bubbles.\nSecond was an interactive histogram of top 50 pincodes with highest business counts. We can select a pincode from histogram or from scattermap Upon selection you can access the visualisation a business table, which can be filtered by any category you want and it will show you the top business in that category in the selected pincode based on the google maps review!! I added another feature where upon selecting a category and pincode you can download the csv file of with original filtered the exact way. First Version: Painfully Slow df = pd.read_csv('businesses.csv') filtered_df = df[df['city'] == selected_city] map_plot = px.scatter_mapbox(filtered_df, ...) Result: 90+ second load time. No one would use this.\nThe Optimization Journey 1. CSV → Parquet Conversion Parquet can refer to a columnar data file format optimized for big data processing or a type of decorative wooden flooring with geometric patterns. The data file format, Apache Parquet, is widely used for its efficiency in storage and querying, with benefits like efficient compression and schema evolution.\ndf.to_parquet('businesses.parquet', engine='pyarrow') df = pd.read_parquet('businesses.parquet', columns=['name', 'category', 'city', 'pincode', 'rating']) Improvement: 33% faster (90s → 60s)\n2. Data Type Optimization Quantization generally refers to reducing the precision of data, typically to 8-bit, 4-bit, or even lower integer or floating-point formats, to save memory and speed up computation\ndf['category'] = df['category'].astype('category') df['city'] = df['city'].astype('category') df['pincode'] = pd.to_numeric(df['pincode'], downcast='integer') df['rating'] = pd.to_numeric(df['rating'], downcast='float') # Memory usage: 3GB → 1.2GB # Load time: 60s → 30s Improvement: 2x faster (60s → 30s)\n3. Flask Caching from functools import lru_cache from flask import Flask app = Flask(__name__) @lru_cache(maxsize=128) def load_data(city): return pd.read_parquet(f'data/{city}.parquet') @app.route('/get_data') def get_data(): city = request.args.get('city') data = load_data(city) return data.to_json() Improvement: 30s → 10s (for cached data)\n4. Pre-filtering at Read Time df = pd.read_parquet( 'businesses.parquet', filters=[('city', '==', selected_city)] ) Result: 1 second load time!\nThe Results Metric Before After Improvement Load time 90+ seconds 1 second 90x faster Memory usage 3GB 1.2GB 60% reduction User satisfaction 0% (too slow) 95% Much better! Key Takeaways Format matters: Parquet » CSV for analytics Load only what you need: Filters at read time beat filters in memory Caching is magic: LRU cache saved the day Data types: Optimization saves memory and speed The 90x speedup turned an unusable dashboard into a fast, responsive tool that students actually use.\nThis dashboard helps students find businesses and services near their colleges across 7 major Indian cities.\n","wordCount":"538","inLanguage":"en","image":"https://shubhamapat.github.io/images/dashboard.png","datePublished":"2024-05-01T00:00:00Z","dateModified":"2024-05-01T00:00:00Z","mainEntityOfPage":{"@type":"WebPage","@id":"https://shubhamapat.github.io/projects/college-hotspots-dashboard/"},"publisher":{"@type":"Organization","name":"Shubham Apat","logo":{"@type":"ImageObject","url":"https://shubhamapat.github.io/favicon.ico"}}}</script></head><body id=top><header class=header><nav class=nav><div class=logo><a href=https://shubhamapat.github.io/ accesskey=h title="Shubham Apat (Alt + H)">Shubham Apat</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)" aria-label="Toggle theme"><svg id="moon" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://shubhamapat.github.io/post/ title=Posts><span>Posts</span></a></li><li><a href=https://shubhamapat.github.io/projects/ title=Projects><span>Projects</span></a></li><li><a href=https://shubhamapat.github.io/search/ title="Search (Alt + /)" accesskey=/><span>Search</span></a></li><li><a href=https://github.com/shubhamapat7 title=GitHub><span>GitHub</span>&nbsp;<svg fill="none" shape-rendering="geometricPrecision" stroke="currentcolor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2.5" viewBox="0 0 24 24" height="12" width="12"><path d="M18 13v6a2 2 0 01-2 2H5a2 2 0 01-2-2V8a2 2 0 012-2h6"/><path d="M15 3h6v6"/><path d="M10 14 21 3"/></svg></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><h1 class="post-title entry-hint-parent">College Hotspots Dashboard</h1><div class=post-description>How I built an interactive dashboard for student businesses and achieved 90x performance improvement</div><div class=post-meta><span title='2024-05-01 00:00:00 +0000 UTC'>May 1, 2024</span>&nbsp;·&nbsp;<span>3 min</span></div></header><figure class=entry-cover><img loading=eager src=https://shubhamapat.github.io/images/dashboard.png alt></figure><div class=post-content><p>Students need to find, PGs and hostels, Restaurants and cafes, Study spaces, competitive exam classes and other student services near colleges</p><p>I scraped Google Maps and collected <strong>3GB of business data</strong> around colleges in 8 major Indian cities. It contained business of more than 100 categories, around all the colleges in the city. I used <a href=%22https://plotly.com/dash/>dash by Plotly</a> to start building the dashboard. To build an interactive dashboard we need to first decide what can we showcase from this data. In my dataset I had details that google maps show of any business like name, address, pincode, city, reviews, phone no., etc.</p><p>Also whatever you conclude to showcase on your dashboard should be informative and visually consistent. I decided to go with a scattermap for my first graph which shows pincodes of one selected city as interactive bubbles.</p><img src=/images/scattermap.png><p>Second was an interactive histogram of top 50 pincodes with highest business counts.
<justify-left><img src=/images/histogram.png>
</justify-left>We can select a pincode from histogram or from scattermap
<img src=/images/city_selection.png></p><p>Upon selection you can access the visualisation a business table, which can be filtered by any category you want and it will show you the top business in that category in the selected pincode based on the google maps review!!
<img src=/images/business_table.png></p><p>I added another feature where upon selecting a category and pincode you can download the csv file of with original filtered the exact way.
<img src=/images/pincode_download.png></p><h2 id=first-version-painfully-slow>First Version: Painfully Slow<a hidden class=anchor aria-hidden=true href=#first-version-painfully-slow>#</a></h2><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span>df <span style=color:#f92672>=</span> pd<span style=color:#f92672>.</span>read_csv(<span style=color:#e6db74>&#39;businesses.csv&#39;</span>)  
</span></span><span style=display:flex><span>filtered_df <span style=color:#f92672>=</span> df[df[<span style=color:#e6db74>&#39;city&#39;</span>] <span style=color:#f92672>==</span> selected_city]
</span></span><span style=display:flex><span>map_plot <span style=color:#f92672>=</span> px<span style=color:#f92672>.</span>scatter_mapbox(filtered_df, <span style=color:#f92672>...</span>)
</span></span></code></pre></div><p><strong>Result</strong>: 90+ second load time. No one would use this.</p><h2 id=the-optimization-journey>The Optimization Journey<a hidden class=anchor aria-hidden=true href=#the-optimization-journey>#</a></h2><h3 id=1-csv--parquet-conversion>1. <strong>CSV → Parquet Conversion</strong><a hidden class=anchor aria-hidden=true href=#1-csv--parquet-conversion>#</a></h3><p>Parquet can refer to a columnar data file format optimized for big data processing or a type of decorative wooden flooring with geometric patterns. The data file format, Apache Parquet, is widely used for its efficiency in storage and querying, with benefits like efficient compression and schema evolution.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span>df<span style=color:#f92672>.</span>to_parquet(<span style=color:#e6db74>&#39;businesses.parquet&#39;</span>, engine<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;pyarrow&#39;</span>)
</span></span><span style=display:flex><span>df <span style=color:#f92672>=</span> pd<span style=color:#f92672>.</span>read_parquet(<span style=color:#e6db74>&#39;businesses.parquet&#39;</span>, 
</span></span><span style=display:flex><span>                    columns<span style=color:#f92672>=</span>[<span style=color:#e6db74>&#39;name&#39;</span>, <span style=color:#e6db74>&#39;category&#39;</span>, <span style=color:#e6db74>&#39;city&#39;</span>, <span style=color:#e6db74>&#39;pincode&#39;</span>, <span style=color:#e6db74>&#39;rating&#39;</span>])
</span></span></code></pre></div><p><strong>Improvement</strong>: 33% faster (90s → 60s)</p><h3 id=2-data-type-optimization>2. <strong>Data Type Optimization</strong><a hidden class=anchor aria-hidden=true href=#2-data-type-optimization>#</a></h3><p>Quantization generally refers to reducing the precision of data, typically to 8-bit, 4-bit, or even lower integer or floating-point formats, to save memory and speed up computation</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span>df[<span style=color:#e6db74>&#39;category&#39;</span>] <span style=color:#f92672>=</span> df[<span style=color:#e6db74>&#39;category&#39;</span>]<span style=color:#f92672>.</span>astype(<span style=color:#e6db74>&#39;category&#39;</span>)  
</span></span><span style=display:flex><span>df[<span style=color:#e6db74>&#39;city&#39;</span>] <span style=color:#f92672>=</span> df[<span style=color:#e6db74>&#39;city&#39;</span>]<span style=color:#f92672>.</span>astype(<span style=color:#e6db74>&#39;category&#39;</span>)
</span></span><span style=display:flex><span>df[<span style=color:#e6db74>&#39;pincode&#39;</span>] <span style=color:#f92672>=</span> pd<span style=color:#f92672>.</span>to_numeric(df[<span style=color:#e6db74>&#39;pincode&#39;</span>], downcast<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;integer&#39;</span>)
</span></span><span style=display:flex><span>df[<span style=color:#e6db74>&#39;rating&#39;</span>] <span style=color:#f92672>=</span> pd<span style=color:#f92672>.</span>to_numeric(df[<span style=color:#e6db74>&#39;rating&#39;</span>], downcast<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;float&#39;</span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Memory usage: 3GB → 1.2GB</span>
</span></span><span style=display:flex><span><span style=color:#75715e># Load time: 60s → 30s</span>
</span></span></code></pre></div><p><strong>Improvement</strong>: 2x faster (60s → 30s)</p><h3 id=3-flask-caching>3. <strong>Flask Caching</strong><a hidden class=anchor aria-hidden=true href=#3-flask-caching>#</a></h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#f92672>from</span> functools <span style=color:#f92672>import</span> lru_cache
</span></span><span style=display:flex><span><span style=color:#f92672>from</span> flask <span style=color:#f92672>import</span> Flask
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>app <span style=color:#f92672>=</span> Flask(__name__)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>@lru_cache</span>(maxsize<span style=color:#f92672>=</span><span style=color:#ae81ff>128</span>)
</span></span><span style=display:flex><span><span style=color:#66d9ef>def</span> <span style=color:#a6e22e>load_data</span>(city):
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> pd<span style=color:#f92672>.</span>read_parquet(<span style=color:#e6db74>f</span><span style=color:#e6db74>&#39;data/</span><span style=color:#e6db74>{</span>city<span style=color:#e6db74>}</span><span style=color:#e6db74>.parquet&#39;</span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>@app.route</span>(<span style=color:#e6db74>&#39;/get_data&#39;</span>)
</span></span><span style=display:flex><span><span style=color:#66d9ef>def</span> <span style=color:#a6e22e>get_data</span>():
</span></span><span style=display:flex><span>    city <span style=color:#f92672>=</span> request<span style=color:#f92672>.</span>args<span style=color:#f92672>.</span>get(<span style=color:#e6db74>&#39;city&#39;</span>)
</span></span><span style=display:flex><span>    data <span style=color:#f92672>=</span> load_data(city)
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> data<span style=color:#f92672>.</span>to_json()
</span></span></code></pre></div><p><strong>Improvement</strong>: 30s → 10s (for cached data)</p><h3 id=4-pre-filtering-at-read-time>4. <strong>Pre-filtering at Read Time</strong><a hidden class=anchor aria-hidden=true href=#4-pre-filtering-at-read-time>#</a></h3><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span>df <span style=color:#f92672>=</span> pd<span style=color:#f92672>.</span>read_parquet(
</span></span><span style=display:flex><span>    <span style=color:#e6db74>&#39;businesses.parquet&#39;</span>,
</span></span><span style=display:flex><span>    filters<span style=color:#f92672>=</span>[(<span style=color:#e6db74>&#39;city&#39;</span>, <span style=color:#e6db74>&#39;==&#39;</span>, selected_city)] 
</span></span><span style=display:flex><span>)
</span></span></code></pre></div><p><strong>Result</strong>: <strong>1 second</strong> load time!</p><h2 id=the-results>The Results<a hidden class=anchor aria-hidden=true href=#the-results>#</a></h2><table><thead><tr><th>Metric</th><th>Before</th><th>After</th><th>Improvement</th></tr></thead><tbody><tr><td><strong>Load time</strong></td><td>90+ seconds</td><td><strong>1 second</strong></td><td><strong>90x faster</strong></td></tr><tr><td><strong>Memory usage</strong></td><td>3GB</td><td>1.2GB</td><td>60% reduction</td></tr><tr><td><strong>User satisfaction</strong></td><td>0% (too slow)</td><td>95%</td><td>Much better!</td></tr></tbody></table><h2 id=key-takeaways>Key Takeaways<a hidden class=anchor aria-hidden=true href=#key-takeaways>#</a></h2><ol><li><strong>Format matters</strong>: Parquet &#187; CSV for analytics</li><li><strong>Load only what you need</strong>: Filters at read time beat filters in memory</li><li><strong>Caching is magic</strong>: LRU cache saved the day</li><li><strong>Data types</strong>: Optimization saves memory and speed</li></ol><p>The 90x speedup turned an unusable dashboard into a fast, responsive tool that students actually use.</p><hr><p><em>This dashboard helps students find businesses and services near their colleges across 7 major Indian cities.</em></p></div><footer class=post-footer><ul class=post-tags><li><a href=https://shubhamapat.github.io/tags/data-visualization/>Data Visualization</a></li><li><a href=https://shubhamapat.github.io/tags/dash/>Dash</a></li><li><a href=https://shubhamapat.github.io/tags/plotly/>Plotly</a></li><li><a href=https://shubhamapat.github.io/tags/data-processing/>Data Processing</a></li><li><a href=https://shubhamapat.github.io/tags/flask/>Flask</a></li></ul><nav class=paginav><a class=prev href=https://shubhamapat.github.io/post/nsmfw-moderation-optimization/><span class=title>« Prev</span><br><span>I Made YOLOv8 Detection 3.7x Faster and Beat Ultralytics' Own Benchmark</span>
</a><a class=next href=https://shubhamapat.github.io/projects/individual-identification-of-mugger-crocodile/><span class=title>Next »</span><br><span>Individual Identification of Mugger Crocodiles using YOLOv8</span></a></nav></footer></article></main><footer class=footer><span>&copy; 2025 <a href=https://shubhamapat.github.io/>Shubham Apat</a></span> ·
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");if(menu){const e=localStorage.getItem("menu-scroll-position");e&&(menu.scrollLeft=parseInt(e,10)),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}}document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{const e=document.querySelector("html");e.dataset.theme==="dark"?(e.dataset.theme="light",localStorage.setItem("pref-theme","light")):(e.dataset.theme="dark",localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(e=>{const n=e.parentNode.parentNode,t=document.createElement("button");t.classList.add("copy-code"),t.innerHTML="copy";function s(){t.innerHTML="copied!",setTimeout(()=>{t.innerHTML="copy"},2e3)}t.addEventListener("click",t=>{if("clipboard"in navigator){navigator.clipboard.writeText(e.textContent),s();return}const n=document.createRange();n.selectNodeContents(e);const o=window.getSelection();o.removeAllRanges(),o.addRange(n);try{document.execCommand("copy"),s()}catch{}o.removeRange(n)}),n.classList.contains("highlight")?n.appendChild(t):n.parentNode.firstChild==n||(e.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?e.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(t):e.parentNode.appendChild(t))})</script></body></html>