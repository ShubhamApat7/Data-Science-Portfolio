<!DOCTYPE html>
<html lang="en" dir="auto" data-theme="auto">

<head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="noindex, nofollow">
<title>College Hotspots Dashboard | Shubham Apat</title>
<meta name="keywords" content="Data Visualization, Dash, Plotly, Data Processing, Flask">
<meta name="description" content="How I built an interactive dashboard for student businesses and achieved 90x performance improvement">
<meta name="author" content="">
<link rel="canonical" href="http://localhost:1313/projects/college-hotspots-dashboard/">
<link crossorigin="anonymous" href="/assets/css/stylesheet.698c882e3b65198c2057ffb8f6094fcca0275b8c7af9a70b9ce9c3c36328c7ff.css" integrity="sha256-aYyILjtlGYwgV/&#43;49glPzKAnW4x6&#43;acLnOnDw2Mox/8=" rel="preload stylesheet" as="style">
<link rel="icon" href="http://localhost:1313/favicon.ico">
<link rel="icon" type="image/png" sizes="16x16" href="http://localhost:1313/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="http://localhost:1313/favicon-32x32.png">
<link rel="apple-touch-icon" href="http://localhost:1313/apple-touch-icon.png">
<link rel="mask-icon" href="http://localhost:1313/safari-pinned-tab.svg">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<link rel="alternate" hreflang="en" href="http://localhost:1313/projects/college-hotspots-dashboard/">
<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
    <style>
        @media (prefers-color-scheme: dark) {
            :root {
                --theme: rgb(29, 30, 32);
                --entry: rgb(46, 46, 51);
                --primary: rgb(218, 218, 219);
                --secondary: rgb(155, 156, 157);
                --tertiary: rgb(65, 66, 68);
                --content: rgb(196, 196, 197);
                --code-block-bg: rgb(46, 46, 51);
                --code-bg: rgb(55, 56, 62);
                --border: rgb(51, 51, 51);
                color-scheme: dark;
            }

            .list {
                background: var(--theme);
            }

            .toc {
                background: var(--entry);
            }
        }

        @media (prefers-color-scheme: light) {
            .list::-webkit-scrollbar-thumb {
                border-color: var(--code-bg);
            }
        }

    </style>
</noscript>
<script>
    if (localStorage.getItem("pref-theme") === "dark") {
        document.querySelector("html").dataset.theme = 'dark';
    } else if (localStorage.getItem("pref-theme") === "light") {
       document.querySelector("html").dataset.theme = 'light';
    } else if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.querySelector("html").dataset.theme = 'dark';
    } else {
        document.querySelector("html").dataset.theme = 'light';
    }

</script>
</head>
<body id="top">
    <header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="http://localhost:1313/" accesskey="h" title="Shubham Apat (Alt + H)">Shubham Apat</a>
            <div class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)" aria-label="Toggle theme">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
            </div>
        </div>
        <ul id="menu">
            <li>
                <a href="http://localhost:1313/post/" title="Posts">
                    <span>Posts</span>
                </a>
            </li>
            <li>
                <a href="http://localhost:1313/projects/" title="Projects">
                    <span>Projects</span>
                </a>
            </li>
            <li>
                <a href="http://localhost:1313/search/" title="Search (Alt &#43; /)" accesskey=/>
                    <span>Search</span>
                </a>
            </li>
            <li>
                <a href="https://github.com/shubhamapat7" title="GitHub">
                    <span>GitHub</span>&nbsp;
                    <svg fill="none" shape-rendering="geometricPrecision" stroke="currentColor" stroke-linecap="round"
                        stroke-linejoin="round" stroke-width="2.5" viewBox="0 0 24 24" height="12" width="12">
                        <path d="M18 13v6a2 2 0 01-2 2H5a2 2 0 01-2-2V8a2 2 0 012-2h6"></path>
                        <path d="M15 3h6v6"></path>
                        <path d="M10 14L21 3"></path>
                    </svg>
                </a>
            </li>
        </ul>
    </nav>
</header>
<main class="main">

<article class="post-single">
  <header class="post-header">
    
    <h1 class="post-title entry-hint-parent">
      College Hotspots Dashboard
    </h1>
    <div class="post-description">
      How I built an interactive dashboard for student businesses and achieved 90x performance improvement
    </div>
    <div class="post-meta"><span title='2024-05-01 00:00:00 +0000 UTC'>May 1, 2024</span>&nbsp;·&nbsp;<span>3 min</span>

</div>
  </header> 
<figure class="entry-cover">
        <img loading="eager" src="http://localhost:1313/images/dashboard.png" alt="">
        
</figure>
  <div class="post-content"><p>Students need to find, PGs and hostels, Restaurants and cafes, Study spaces, competitive exam classes and other student services near colleges</p>
<p>I scraped Google Maps and collected <strong>3GB of business data</strong> around colleges in 8 major Indian cities. It contained business of more than 100 categories, around all the colleges in the city. I used <a href="%22https://plotly.com/dash/">dash by Plotly</a> to start building the dashboard. To build an interactive dashboard we need to first decide what can we showcase from this data. In my dataset I had details that google maps show of any business like name, address, pincode, city, reviews, phone no., etc.</p>
<p>Also whatever you conclude to showcase on your dashboard should be informative and visually consistent. I decided to go with a scattermap for my first graph which shows pincodes of one selected city as interactive bubbles.</p>
<img src="/images/scattermap.png">
<p>Second was an interactive histogram of top 50 pincodes with highest business counts.
<justify-left>
<img src="/images/histogram.png">
</justify-left>
We can select a pincode from histogram or from scattermap
<img src="/images/city_selection.png"></p>
<p>Upon selection you can access the visualisation a business table, which can be filtered by any category you want and it will show you the top business in that category in the selected pincode based on the google maps review!!
<img src="/images/business_table.png"></p>
<p>I added another feature where upon selecting a category and pincode you can download the csv file of with original filtered the exact way.
<img src="/images/pincode_download.png"></p>
<h2 id="first-version-painfully-slow">First Version: Painfully Slow<a hidden class="anchor" aria-hidden="true" href="#first-version-painfully-slow">#</a></h2>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>df <span style="color:#f92672">=</span> pd<span style="color:#f92672">.</span>read_csv(<span style="color:#e6db74">&#39;businesses.csv&#39;</span>)  
</span></span><span style="display:flex;"><span>filtered_df <span style="color:#f92672">=</span> df[df[<span style="color:#e6db74">&#39;city&#39;</span>] <span style="color:#f92672">==</span> selected_city]
</span></span><span style="display:flex;"><span>map_plot <span style="color:#f92672">=</span> px<span style="color:#f92672">.</span>scatter_mapbox(filtered_df, <span style="color:#f92672">...</span>)
</span></span></code></pre></div><p><strong>Result</strong>: 90+ second load time. No one would use this.</p>
<h2 id="the-optimization-journey">The Optimization Journey<a hidden class="anchor" aria-hidden="true" href="#the-optimization-journey">#</a></h2>
<h3 id="1-csv--parquet-conversion">1. <strong>CSV → Parquet Conversion</strong><a hidden class="anchor" aria-hidden="true" href="#1-csv--parquet-conversion">#</a></h3>
<p>Parquet can refer to a columnar data file format optimized for big data processing or a type of decorative wooden flooring with geometric patterns. The data file format, Apache Parquet, is widely used for its efficiency in storage and querying, with benefits like efficient compression and schema evolution.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>df<span style="color:#f92672">.</span>to_parquet(<span style="color:#e6db74">&#39;businesses.parquet&#39;</span>, engine<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;pyarrow&#39;</span>)
</span></span><span style="display:flex;"><span>df <span style="color:#f92672">=</span> pd<span style="color:#f92672">.</span>read_parquet(<span style="color:#e6db74">&#39;businesses.parquet&#39;</span>, 
</span></span><span style="display:flex;"><span>                    columns<span style="color:#f92672">=</span>[<span style="color:#e6db74">&#39;name&#39;</span>, <span style="color:#e6db74">&#39;category&#39;</span>, <span style="color:#e6db74">&#39;city&#39;</span>, <span style="color:#e6db74">&#39;pincode&#39;</span>, <span style="color:#e6db74">&#39;rating&#39;</span>])
</span></span></code></pre></div><p><strong>Improvement</strong>: 33% faster (90s → 60s)</p>
<h3 id="2-data-type-optimization">2. <strong>Data Type Optimization</strong><a hidden class="anchor" aria-hidden="true" href="#2-data-type-optimization">#</a></h3>
<p>Quantization generally refers to reducing the precision of data, typically to 8-bit, 4-bit, or even lower integer or floating-point formats, to save memory and speed up computation</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>df[<span style="color:#e6db74">&#39;category&#39;</span>] <span style="color:#f92672">=</span> df[<span style="color:#e6db74">&#39;category&#39;</span>]<span style="color:#f92672">.</span>astype(<span style="color:#e6db74">&#39;category&#39;</span>)  
</span></span><span style="display:flex;"><span>df[<span style="color:#e6db74">&#39;city&#39;</span>] <span style="color:#f92672">=</span> df[<span style="color:#e6db74">&#39;city&#39;</span>]<span style="color:#f92672">.</span>astype(<span style="color:#e6db74">&#39;category&#39;</span>)
</span></span><span style="display:flex;"><span>df[<span style="color:#e6db74">&#39;pincode&#39;</span>] <span style="color:#f92672">=</span> pd<span style="color:#f92672">.</span>to_numeric(df[<span style="color:#e6db74">&#39;pincode&#39;</span>], downcast<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;integer&#39;</span>)
</span></span><span style="display:flex;"><span>df[<span style="color:#e6db74">&#39;rating&#39;</span>] <span style="color:#f92672">=</span> pd<span style="color:#f92672">.</span>to_numeric(df[<span style="color:#e6db74">&#39;rating&#39;</span>], downcast<span style="color:#f92672">=</span><span style="color:#e6db74">&#39;float&#39;</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Memory usage: 3GB → 1.2GB</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Load time: 60s → 30s</span>
</span></span></code></pre></div><p><strong>Improvement</strong>: 2x faster (60s → 30s)</p>
<h3 id="3-flask-caching">3. <strong>Flask Caching</strong><a hidden class="anchor" aria-hidden="true" href="#3-flask-caching">#</a></h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">from</span> functools <span style="color:#f92672">import</span> lru_cache
</span></span><span style="display:flex;"><span><span style="color:#f92672">from</span> flask <span style="color:#f92672">import</span> Flask
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>app <span style="color:#f92672">=</span> Flask(__name__)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">@lru_cache</span>(maxsize<span style="color:#f92672">=</span><span style="color:#ae81ff">128</span>)
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">load_data</span>(city):
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> pd<span style="color:#f92672">.</span>read_parquet(<span style="color:#e6db74">f</span><span style="color:#e6db74">&#39;data/</span><span style="color:#e6db74">{</span>city<span style="color:#e6db74">}</span><span style="color:#e6db74">.parquet&#39;</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#a6e22e">@app.route</span>(<span style="color:#e6db74">&#39;/get_data&#39;</span>)
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">get_data</span>():
</span></span><span style="display:flex;"><span>    city <span style="color:#f92672">=</span> request<span style="color:#f92672">.</span>args<span style="color:#f92672">.</span>get(<span style="color:#e6db74">&#39;city&#39;</span>)
</span></span><span style="display:flex;"><span>    data <span style="color:#f92672">=</span> load_data(city)
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> data<span style="color:#f92672">.</span>to_json()
</span></span></code></pre></div><p><strong>Improvement</strong>: 30s → 10s (for cached data)</p>
<h3 id="4-pre-filtering-at-read-time">4. <strong>Pre-filtering at Read Time</strong><a hidden class="anchor" aria-hidden="true" href="#4-pre-filtering-at-read-time">#</a></h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>df <span style="color:#f92672">=</span> pd<span style="color:#f92672">.</span>read_parquet(
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">&#39;businesses.parquet&#39;</span>,
</span></span><span style="display:flex;"><span>    filters<span style="color:#f92672">=</span>[(<span style="color:#e6db74">&#39;city&#39;</span>, <span style="color:#e6db74">&#39;==&#39;</span>, selected_city)] 
</span></span><span style="display:flex;"><span>)
</span></span></code></pre></div><p><strong>Result</strong>: <strong>1 second</strong> load time!</p>
<h2 id="the-results">The Results<a hidden class="anchor" aria-hidden="true" href="#the-results">#</a></h2>
<table>
  <thead>
      <tr>
          <th>Metric</th>
          <th>Before</th>
          <th>After</th>
          <th>Improvement</th>
      </tr>
  </thead>
  <tbody>
      <tr>
          <td><strong>Load time</strong></td>
          <td>90+ seconds</td>
          <td><strong>1 second</strong></td>
          <td><strong>90x faster</strong></td>
      </tr>
      <tr>
          <td><strong>Memory usage</strong></td>
          <td>3GB</td>
          <td>1.2GB</td>
          <td>60% reduction</td>
      </tr>
      <tr>
          <td><strong>User satisfaction</strong></td>
          <td>0% (too slow)</td>
          <td>95%</td>
          <td>Much better!</td>
      </tr>
  </tbody>
</table>
<h2 id="key-takeaways">Key Takeaways<a hidden class="anchor" aria-hidden="true" href="#key-takeaways">#</a></h2>
<ol>
<li><strong>Format matters</strong>: Parquet &raquo; CSV for analytics</li>
<li><strong>Load only what you need</strong>: Filters at read time beat filters in memory</li>
<li><strong>Caching is magic</strong>: LRU cache saved the day</li>
<li><strong>Data types</strong>: Optimization saves memory and speed</li>
</ol>
<p>The 90x speedup turned an unusable dashboard into a fast, responsive tool that students actually use.</p>
<hr>
<p><em>This dashboard helps students find businesses and services near their colleges across 7 major Indian cities.</em></p>


  </div>

  <footer class="post-footer">
    <ul class="post-tags">
      <li><a href="http://localhost:1313/tags/data-visualization/">Data Visualization</a></li>
      <li><a href="http://localhost:1313/tags/dash/">Dash</a></li>
      <li><a href="http://localhost:1313/tags/plotly/">Plotly</a></li>
      <li><a href="http://localhost:1313/tags/data-processing/">Data Processing</a></li>
      <li><a href="http://localhost:1313/tags/flask/">Flask</a></li>
    </ul>
<nav class="paginav">
  <a class="prev" href="http://localhost:1313/post/nsmfw-moderation-optimization/">
    <span class="title">« Prev</span>
    <br>
    <span>I Made YOLOv8 Detection 3.7x Faster and Beat Ultralytics&#39; Own Benchmark</span>
  </a>
  <a class="next" href="http://localhost:1313/projects/individual-identification-of-mugger-crocodile/">
    <span class="title">Next »</span>
    <br>
    <span>Individual Identification of Mugger Crocodiles using YOLOv8</span>
  </a>
</nav>

  </footer>
</article>
    </main>
    
<footer class="footer">
        <span>&copy; 2025 <a href="http://localhost:1313/">Shubham Apat</a></span> · 

    <span>
        Powered by
        <a href="https://gohugo.io/" rel="noopener noreferrer" target="_blank">Hugo</a> &
        <a href="https://github.com/adityatelange/hugo-PaperMod/" rel="noopener" target="_blank">PaperMod</a>
    </span>
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
        <path d="M12 6H0l6-6z" />
    </svg>
</a>

<script>
    let menu = document.getElementById('menu');
    if (menu) {
        
        const scrollPosition = localStorage.getItem("menu-scroll-position");
        if (scrollPosition) {
            menu.scrollLeft = parseInt(scrollPosition, 10);
        }
        
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        const html = document.querySelector("html");
        if (html.dataset.theme === "dark") {
            html.dataset.theme = 'light';
            localStorage.setItem("pref-theme", 'light');
        } else {
            html.dataset.theme = 'dark';
            localStorage.setItem("pref-theme", 'dark');
        }
    })

</script>
<script>
    document.querySelectorAll('pre > code').forEach((codeblock) => {
        const container = codeblock.parentNode.parentNode;

        const copybutton = document.createElement('button');
        copybutton.classList.add('copy-code');
        copybutton.innerHTML = 'copy';

        function copyingDone() {
            copybutton.innerHTML = 'copied!';
            setTimeout(() => {
                copybutton.innerHTML = 'copy';
            }, 2000);
        }

        copybutton.addEventListener('click', (cb) => {
            if ('clipboard' in navigator) {
                navigator.clipboard.writeText(codeblock.textContent);
                copyingDone();
                return;
            }

            const range = document.createRange();
            range.selectNodeContents(codeblock);
            const selection = window.getSelection();
            selection.removeAllRanges();
            selection.addRange(range);
            try {
                document.execCommand('copy');
                copyingDone();
            } catch (e) { };
            selection.removeRange(range);
        });

        if (container.classList.contains("highlight")) {
            container.appendChild(copybutton);
        } else if (container.parentNode.firstChild == container) {
            
        } else if (codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName == "TABLE") {
            
            codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(copybutton);
        } else {
            
            codeblock.parentNode.appendChild(copybutton);
        }
    });
</script>
</body>

</html>
